{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Area LP Variables Schema",
  "description": "Schema for area landing page content generation",
  "type": "object",
  "required": [
    "slug",
    "title",
    "locale",
    "rent_by_type",
    "commute_times",
    "subareas",
    "cta",
    "sources",
    "last_updated"
  ],
  "properties": {
    "slug": {
      "type": "string",
      "description": "URL slug (e.g., 'shibuya', 'setagaya')",
      "pattern": "^[a-z0-9-]+$"
    },
    "title": {
      "type": "object",
      "description": "Title by locale",
      "required": ["en"],
      "properties": {
        "en": { "type": "string" },
        "ja": { "type": "string" }
      },
      "additionalProperties": true
    },
    "locale": {
      "type": "array",
      "description": "Supported locales",
      "items": {
        "enum": ["en", "ja"]
      },
      "minItems": 1
    },
    "status": {
      "type": "string",
      "enum": ["Draft", "Published"],
      "default": "Draft"
    },
    "subtitle": {
      "type": "object",
      "description": "Subtitle/hero subcopy by locale",
      "properties": {
        "en": { "type": "string" },
        "ja": { "type": "string" }
      }
    },
    "rent_by_type": {
      "type": "object",
      "description": "Rent ranges by room type, quarterly (YYYY-Q format)",
      "properties": {
        "quarter": {
          "type": "string",
          "pattern": "^\\d{4}-Q[1-4]$",
          "description": "Quarter identifier (e.g., '2025-Q1')"
        },
        "1K": {
          "type": "object",
          "properties": {
            "min": { "type": "number", "description": "Minimum rent in JPY" },
            "max": { "type": "number", "description": "Maximum rent in JPY" },
            "typical": { "type": "number", "description": "Typical rent in JPY" }
          }
        },
        "1LDK": {
          "type": "object",
          "properties": {
            "min": { "type": "number" },
            "max": { "type": "number" },
            "typical": { "type": "number" }
          }
        },
        "2LDK": {
          "type": "object",
          "properties": {
            "min": { "type": "number" },
            "max": { "type": "number" },
            "typical": { "type": "number" }
          }
        },
        "3LDK": {
          "type": "object",
          "properties": {
            "min": { "type": "number" },
            "max": { "type": "number" },
            "typical": { "type": "number" }
          }
        }
      }
    },
    "commute_times": {
      "type": "array",
      "description": "Commute times to major destinations",
      "items": {
        "type": "object",
        "required": ["destination", "minutes"],
        "properties": {
          "destination": { "type": "string" },
          "minutes": { "type": "number" },
          "type": {
            "enum": ["express", "local"],
            "description": "Train type (express/local)"
          },
          "line": { "type": "string", "description": "Train line name" }
        }
      }
    },
    "subareas": {
      "type": "array",
      "description": "Subareas/neighborhoods within this area",
      "items": {
        "type": "object",
        "required": ["name", "description"],
        "properties": {
          "name": {
            "type": "object",
            "properties": {
              "en": { "type": "string" },
              "ja": { "type": "string" }
            }
          },
          "description": {
            "type": "object",
            "properties": {
              "en": { "type": "string" },
              "ja": { "type": "string" }
            }
          },
          "highlights": {
            "type": "array",
            "items": { "type": "string" }
          }
        }
      }
    },
    "overview": {
      "type": "object",
      "description": "Area overview by locale",
      "properties": {
        "en": { "type": "string" },
        "ja": { "type": "string" }
      }
    },
    "who_it_fits": {
      "type": "object",
      "description": "Target audience description by locale",
      "properties": {
        "en": { "type": "array", "items": { "type": "string" } },
        "ja": { "type": "array", "items": { "type": "string" } }
      }
    },
    "schools_healthcare": {
      "type": "object",
      "description": "Schools and healthcare info by locale",
      "properties": {
        "en": { "type": "string" },
        "ja": { "type": "string" }
      }
    },
    "parks": {
      "type": "object",
      "description": "Parks and recreation info by locale",
      "properties": {
        "en": { "type": "string" },
        "ja": { "type": "string" }
      }
    },
    "shopping_dining": {
      "type": "object",
      "description": "Shopping and dining info by locale",
      "properties": {
        "en": { "type": "string" },
        "ja": { "type": "string" }
      }
    },
    "events": {
      "type": "array",
      "description": "Annual events/festivals",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "object",
            "properties": {
              "en": { "type": "string" },
              "ja": { "type": "string" }
            }
          },
          "month": { "type": "string" },
          "description": {
            "type": "object",
            "properties": {
              "en": { "type": "string" },
              "ja": { "type": "string" }
            }
          }
        }
      }
    },
    "faq": {
      "type": "array",
      "description": "Frequently asked questions",
      "items": {
        "type": "object",
        "required": ["q", "a"],
        "properties": {
          "q": {
            "type": "object",
            "properties": {
              "en": { "type": "string" },
              "ja": { "type": "string" }
            }
          },
          "a": {
            "type": "object",
            "properties": {
              "en": { "type": "string" },
              "ja": { "type": "string" }
            }
          }
        }
      }
    },
    "cta": {
      "type": "object",
      "description": "Call-to-action configuration",
      "required": ["text", "url"],
      "properties": {
        "text": {
          "type": "object",
          "properties": {
            "en": { "type": "string" },
            "ja": { "type": "string" }
          }
        },
        "url": { "type": "string" },
        "priority": {
          "enum": ["readiness_check", "area_search", "viewing"],
          "default": "readiness_check"
        }
      }
    },
    "assets": {
      "type": "array",
      "description": "Image assets (optional)",
      "items": {
        "type": "object",
        "properties": {
          "type": {
            "enum": ["hero", "subarea", "park", "event"],
            "description": "Asset category"
          },
          "filename": { "type": "string" },
          "alt": {
            "type": "object",
            "properties": {
              "en": { "type": "string" },
              "ja": { "type": "string" }
            }
          }
        }
      }
    },
    "sources": {
      "type": "array",
      "description": "Data sources (e.g., SUUMO, Homes, official sites)",
      "items": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "url": { "type": "string" },
          "type": {
            "enum": ["rent", "commute", "general"],
            "description": "Source category"
          }
        }
      }
    },
    "last_updated": {
      "type": "string",
      "format": "date",
      "description": "Last update date (YYYY-MM-DD)"
    },
    "tags": {
      "type": "array",
      "description": "SEO tags",
      "items": { "type": "string" }
    }
  }
}
